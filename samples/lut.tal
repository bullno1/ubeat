~samples/boilerplate.tal

( w='1234341'[( t>>13)%7]*t,w%50+w%40+w%30+w%60 )
@on-beat ( t* -> b )
	STH2k #0d SFT2 ( t>>13* ! )
	;lut/end ;lut SUB2 ( lut-len* ! )
	MOD2 ;lut ADD2 LDA #00 SWP

	STH2r MUL2 ( w* ! )

	STH2k #++50 MOD2
	STH2kr #++40 MOD2 ADD2
	STH2kr #++30 MOD2 ADD2
	STH2kr #++60 MOD2 ADD2

	POP2r NIP

	BRK

@lut [ 01 02 03 04 03 04 01 ]
&end

@MOD2 ( x* y* -- mod* ) DIV2k MUL2 SUB2 JMP2r
