~samples/boilerplate.tal

( w='1234341'[( t>>13)%7]*t,w%50+w%40+w%30+w%60 )
@on-beat ( -> )
	[ .Bytebeat/t DEI2 ]
	#0d SFT2 ( t>>13* ! )
	;lut/end ;lut SUB2 ( lut-len* ! )
	MOD2 ;lut ADD2 LDA #00 SWP

	[ .Bytebeat/t DEI2 ] MUL2 ( w* ! )

	DUP2 #++50 MOD2
	OVR2 #++40 MOD2 ADD2
	OVR2 #++30 MOD2 ADD2
	OVR2 #++60 MOD2 ADD2

	NIP2
	NIP .Bytebeat/b DEO

	BRK

@lut [ 01 02 03 04 03 04 01 ]
&end

@MOD2 ( x* y* -- mod* ) DIV2k MUL2 SUB2 JMP2r
